

-- 회원정보 수정
UPDATE MEMBER SET 
MEMBER_NM = ?,
PROFILE_IMG = ?,
PROFILE_BACK_IMG = ? 
WHERE MEMBER_NO = ? ;

-- 회원정보 수정(테스트)
UPDATE MEMBER SET 
MEMBER_NM = '김담2'
WHERE MEMBER_NO = 23 ;


-- 회원 비밀번호 변경
UPDATE MEMBER SET
MEMBER_PW = 바꿀비번
WHERE MEMBER_NO = ?
AND MEMBER_PW = 현재비번 ;



-- 회원 비밀번호 변경(테스트)
UPDATE MEMBER SET
MEMBER_PW = 'qwer1234'
WHERE MEMBER_NO = '23'
AND MEMBER_PW = 'asdf1234' ;



-- profile_my 에서 쓸 것
-- 회원 넘버가 00일 때,
--	1)평가한 영화 정보 .. 를 가지고 영화(이름, 이미지, 년도, 국가 ) ( 평균별점 걍 빼자 )
SELECT MOVIE_NO
FROM EVALUATION
WHERE MEMBER_NO = 42;

SELECT MOVIE_TITLE, POSTER_IMG, RELEASE_YEAR, COUNTRY
FROM MOVIE
WHERE MOVIE_NO = 1;

SELECT MOVIE_NO, MOVIE_TITLE, POSTER_IMG, RELEASE_YEAR, COUNTRY
FROM EVALUATION
JOIN MOVIE USING(MOVIE_NO)
WHERE MEMBER_NO= 42
AND EVALUATION_FL = 'Y';

-- 4개만 조회 
SELECT * FROM ( 
    SELECT ROWNUM RNUM, A.* FROM(

        SELECT MOVIE_NO, MOVIE_TITLE, POSTER_IMG, RELEASE_YEAR, COUNTRY
        FROM EVALUATION
        JOIN MOVIE USING(MOVIE_NO)
        WHERE MEMBER_NO= 42
        AND EVALUATION_FL = 'Y'

    ) A
)
WHERE RNUM BETWEEN 1 AND 4 ;


SELECT * FROM ( 
SELECT ROWNUM RNUM, A.* FROM(

    SELECT MOVIE_NO, MOVIE_TITLE, POSTER_IMG, RELEASE_YEAR, COUNTRY, EVALUATION_FL
    FROM EVALUATION
    JOIN MOVIE USING(MOVIE_NO)
    WHERE MEMBER_NO= 23
    -- AND EVALUATION_FL = 'Y' 
    ) A
)
WHERE RNUM BETWEEN 1 AND 4 ;

SELECT * FROM EVALUATION ;



--  2) 찜한 영화 정보
-- 찜한영화 아직 없어서 패쓰~!


--  3) 취향분석 
-- 회원 번호 00일 때,
-- 별점을 몇개 사용했는가?
SELECT STAR_RATING
FROM EVALUATION
WHERE MEMBER_NO = 42;




